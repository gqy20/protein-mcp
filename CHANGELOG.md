# 更新日志

## [0.1.5] - 2025-10-24

### 🎉 重大更新 - FastMCP 2.x 兼容性升级

#### ✨ 新增功能
- **现代化工具支持** - 所有工具函数升级为异步函数，支持 `Context` 进度反馈
- **实时进度显示** - 工具执行时提供详细的进度信息和状态更新
- **增强日志记录** - 使用 FastMCP 2.x 的 `ctx.info()` 和 `ctx.error()` 提供丰富反馈
- **进度报告功能** - 支持 `ctx.report_progress()` 显示执行进度

#### 🔧 技术改进
- **服务器启动方式升级** - 修复 FastMCP 2.x 兼容性问题，使用标准的 `mcp.run(transport="xxx")` 方式
- **版本管理统一** - 从 `__init__.py` 导入版本，移除硬编码版本号
- **异步工具函数** - 所有三个核心工具支持异步操作和并发处理
- **错误处理优化** - 改进的错误报告机制和异常处理

#### 🛠️ 修复问题
- **修复服务器启动错误** - 解决了不存在的 `run_http_async()` 和 `run_sse_async()` 方法调用
- **修复版本不一致** - 统一所有文件中的版本号管理
- **修复中间件导入** - 移除不兼容的中间件，确保 FastMCP 2.x 兼容性

#### 📋 测试验证
- ✅ STDIO 模式启动正常
- ✅ HTTP 模式支持自定义端口和主机
- ✅ SSE 模式 Server-Sent Events 传输正常
- ✅ 命令行参数帮助功能完整
- ✅ 版本显示正确 (FastMCP 2.12.4, MCP SDK 1.19.0)

#### 🔄 向后兼容性
- 保持所有原有功能不变
- 保持工具接口和返回格式一致
- 保持命令行参数兼容

---

## [0.1.4] - 2025-10-24

### 🔧 技术改进
- 修复发布认证配置
- 优化构建流程

---

## [0.1.3] - 2025-10-24

### 🔧 技术改进
- 修复发布流程配置
- 更新依赖版本

---

## [0.1.2] - 2025-10-24

### 🔧 技术改进
- 修复 API token 认证方式
- 优化网络请求处理

---

## [0.1.1] - 2025-10-24

### 🐛 问题修复
- 修复初始版本中的关键问题
- 优化错误处理机制

---

## [0.1.0] - 2025-10-24

### 🎉 首次发布

#### ✨ 核心功能
- **3个核心优化工具**：
  - `find_protein_structures` - 蛋白质结构发现工具
  - `get_protein_data` - 蛋白质综合数据工具
  - `download_structure` - 结构文件工具

#### 🎯 项目特色
- **工具精简优化** - 从8个工具优化为3个核心工具，减少62.5%复杂度
- **功能完整保留** - 所有原有功能完整保留，无功能损失
- **用户体验大幅提升** - 工具职责更清晰，学习成本更低
- **代码质量优化** - 代码量减少39.2%，维护性显著提升

#### 🔧 技术特性
- **多协议支持** - 支持stdio、http、sse三种传输协议
- **基于 FastMCP** - 现代化的 MCP 服务器框架
- **RCSB PDB 集成** - 完整的蛋白质数据库访问功能
- **异步支持** - 高效的异步操作处理